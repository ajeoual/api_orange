var mongoose = require('mongoose');

// Schema
/*var userSchema = new mongoose.Schema({
	firstname: String,
	lastname: String,
	age: Number,
	plan: String
});*/

var userSchema = new mongoose.Schema({
	identity:{
		first_name:String,
		last_name:String,
		email:String
	},
	VOD:{
		credit:Number,
		last_rented_video:String,
		rented_videos:[{
			title:String,
			type:String,
			genre:[{ movie : String  }],
			rented_episodes:[{ episode : String  }],
			total_price:Number
			},
			{
			title:String,
			type:String,
			genre:[{ movie : String  }],
			rented_episodes:[{ episode : String  }],
			total_price:Number
			},
			{
			title:String,
			type:String,
			genre:[{ movie : String  }],
			rented_episodes:[{ episode : String  }],
			total_price:Number
			}
		]
	},

	home:{
		entry_time:Date,
		exit_time:Date,
		consomation:{
			water:Number,
			electricity:Number
		},
		forecast:{
			weather:String,
			temperature_celsius:Number,
			temperature_fahrenheit:Number,
			humidity:String
		},
		lock:String
	},

	network:{
		hotspots:{
			longitude:Number,
			latitude:Number,
			hotspotId:String,
			city:String,
			place:String,
			postalCode:String,
			name:String,
			distance:Number,
			state:String,
			company:String,
			website:String,
			ssid:String
		},
		clients:Number
	},

	phone_plan:{
		subscription:String,
		phone_number:String,
		consomation:{
			calls:String,
			data:String,
			sms:Number
		}
	}
});


var User = module.exports = mongoose.model('User',userSchema);

// Get User
module.exports.getUsers = function(callback, limit){
	User.find(callback).limit(limit);
}

// Get User By Id
module.exports.getUserById = function(id, callback){
	User.findById(id, callback);
}

